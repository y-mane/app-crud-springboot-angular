<div class="card flex justify-content-center; height:auto" #myNav>
    <p-button (click)="showDialog()" icon="pi pi-pencil" label=""></p-button>
    <p-dialog header="Header" [(visible)]="visible" [modal]="true" [style]="{ width: '50rem' }"
              [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }">
        <ng-template pTemplate="header">
            <div class="inline-flex align-items-center justify-content-center gap-2">
                <span class="font-bold white-space-nowrap">{{type_form}}</span>
            </div>
        </ng-template>
        <div style="text-align: center;">
            <form action="" (ngSubmit)="enregistrer()" novalidate class="form-group" [formGroup]="personneForm">
              <span style="display:none">
              <input pInputText id="id" name="id" formControlName="id" style="display:none;"/>
                </span>
                <span class="p-float-label" style="margin-top: 3%;">
              <input pInputText id="nom" name="nom" formControlName="nom"/>
              <label for="nom">Nom</label>
            <small *ngIf="nom.invalid && (nom.dirty || nom.touched)" class="block p-error">
              <div *ngIf="nom.errors?.['required']">Le nom est obligatoire.</div>
              <div *ngIf="nom.errors?.['pattern']">Le nom n'est pas correct.</div>
            </small>
          </span><br>
                <span class="p-float-label">
              <input pInputText id="prenom" name="prenom" formControlName="prenom"/>
              <label for="prenom">Prenom</label>
            <small *ngIf="prenom.invalid && (prenom.dirty || prenom.touched)" class="block p-error">
              <div *ngIf="prenom.errors?.['required']">Le prenom est obligatoire.</div>
              <div *ngIf="prenom.errors?.['pattern']">Le prenom n'est pas correct.</div>
            </small>
          </span><br>
                <span class="p-float-label">
              <input pInputText id="age" name="age" formControlName="age"/>
              <label for="age">Age</label>
            <small *ngIf="age.invalid && (age.dirty || age.touched)" class="block p-error">
              <div *ngIf="age.errors?.['required']">L'âge est obligatoire.</div>
              <div *ngIf="age.errors?.['pattern']">L'âge n'est pas correct.</div>
            </small>
          </span><br>
                <span class="p-float-label">
            <!--<input pInputText id="departement" name="departement"  formControlName="departement" /> -->
            <p-autoComplete [suggestions]="filteredDepartments" (completeMethod)="filterDepartement($event)"
                            field="designation"
                            id="departement" name="departement" formControlName="departement"></p-autoComplete>
            <label for="departement">Département</label>
            <small *ngIf="departement.invalid && (departement.dirty || departement.touched)" class="block p-error">
              <div *ngIf="departement.errors?.['required']">Le departement est obligatoire.</div>
            </small>
        </span><br><br>
                <br><br>
            </form>
        </div>
        <ng-template pTemplate="footer">
            <p-button icon="pi pi-times" (click)="fermer()" label="Fermer" pAutoFocus [autofocus]=""></p-button>
            <p-button icon="pi pi-check" (click)="enregistrer()" label="Enregistrer" pAutoFocus [autofocus]=""
                      type="submit" [disabled]="personneForm.invalid"></p-button>
        </ng-template>
    </p-dialog>
</div>
<p-toast></p-toast>
<p-confirmDialog [style]="{width: '30vw'}" [baseZIndex]="10000"></p-confirmDialog>

